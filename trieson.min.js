!function(t,n,e){"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):n[t]=e()}("Trieson",this,function(){function t(){this._data=[],this.length=0}function n(n){this._data=new t,n&&"depth"in n&&(this._depth=n.depth)}return t.prototype.add=function(t){return this._data.push(t),this.length=this._data.length,this},t.prototype.get=function(t){if("number"==typeof t)return this._data[t];var n=Math.floor(Math.random()*this.length);return this._data[n]},n.prototype._setTerminal=function(t){return this._value="undefined"==typeof t?!0:t,this},n.prototype._isTerminal=function(){return"_value"in this},n.prototype.add=function(t,e){for(var r=this,i=0,a=t.length;a>i;i++){var o=t[i];o in r||(r[o]=new n,r._data.add(o)),r=r[o]}return r._setTerminal(e),this},n.prototype.get=function(t){for(var n=this,e=0,r=t.length;r>e;e++){var i=t[e];if(!(i in n))break;if(n=n[i],e==t.length-1&&n._isTerminal())return n._value}return null},n.prototype.has=function(t){return null!==this.get(t)},n.prototype.match=function(t,n){function e(t,o){if(o){var u=o[0],h=o.substr(1);u in t&&(i.push(u),e(t[u],h))}else{if(a>=n)return!0;t._isTerminal()&&(r.push(i.join("")),a++);for(var s=t._data,u=0,f=s.length;f>u;u++){var p=s.get(u);if(i.push(p),e(t[p]))return!0}}i.pop()}n=n||0;var r=[],i=[],a=0;return e(this,t),r},n.prototype.generate=function(){for(var t=this,n=t._data,e=[];n.length;){var r=n.get();if(e.push(r),t=t[r],n=t._data,t._isTerminal()&&Math.random()>=.5)break}return e.join("")},n});